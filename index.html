<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AscendX PRO</title>
<style>
body{margin:0;font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#6366f1,#0ea5e9);color:#111;overflow-x:hidden;}
header{text-align:center;padding:20px;font-size:26px;font-weight:bold;color:white;}
.container{padding:15px;opacity:1;}
.card{background:white;padding:15px;border-radius:16px;margin-bottom:15px;box-shadow:0 8px 20px rgba(0,0,0,0.15);transition: transform 0.2s, box-shadow 0.2s;}
.card:hover{transform:scale(1.02);box-shadow:0 12px 25px rgba(0,0,0,0.25);}
button{padding:8px 12px;border:none;border-radius:8px;background:#6366f1;color:white;font-weight:bold;cursor:pointer;margin-top:6px;transition: all 0.2s;}
button:hover{background:#4f46e5;box-shadow:0 4px 10px rgba(0,0,0,0.2);}
input,textarea,select{width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #ccc;}
.hidden{display:none;}
.progressBar{height:8px;background:#ddd;border-radius:8px;overflow:hidden;margin-top:6px;}
.progressFill{height:100%;width:0%;background:#0ea5e9;transition: width 0.5s ease;}
.premiumTag{color:#e11d48;font-weight:bold;}
.lessonContent iframe{width:100%;height:200px;border:none;margin-top:10px;border-radius:12px;}
.quizOption{display:block;margin-top:6px;}
#aboutCard{position:fixed;bottom:10px;right:10px;background:white;padding:15px;border-radius:16px;box-shadow:0 5px 15px rgba(0,0,0,0.2);max-width:90%;display:none;transition: transform 0.3s ease, opacity 0.3s ease;}
#playground{margin-top:15px;}
#playground textarea{height:100px;font-family:monospace;}
#playground iframe{border:1px solid #ccc;margin-top:10px;width:100%;height:200px;border-radius:12px;}
.courseTitle{cursor:pointer;font-size:20px;color:#111;font-weight:bold;}
.moduleTitle{cursor:pointer;margin-left:10px;font-size:18px;color:#333;}
.lessonTitle{margin-left:20px;font-size:16px;color:#555;cursor:pointer;}
.moduleContent,.lessonContentWrapper{display:none;}
</style>
</head>
<body>
<header>üöÄ AscendX PRO</header>
<div class="container"><!-- Login --><div class="card">
<h3>Enter Code</h3>
<input type="password" id="adminPass" placeholder="Enter code">
<button onclick="adminLogin()">Login</button>
<p id="adminStatus"></p>
</div><!-- Admin Panel --><div id="adminPanel" class="hidden">
<div class="card">
<h3>GitHub Token</h3>
<input type="password" id="tokenInput" placeholder="Enter GitHub Token">
<button onclick="saveToken()">Save Token</button>
<button onclick="autoSaveGitHub()">Save to GitHub</button>
<button onclick="syncFromGitHub()">Sync from GitHub</button>
</div>
<div class="card">
<h3>Create Course</h3>
<input id="courseTitle" placeholder="Course Title">
<label><input type="checkbox" id="coursePremium"> Premium</label>
<button onclick="addCourse()">Create Course</button>
</div>
<div class="card">
<h3>Modules & Lessons</h3>
<select id="selectCourse"></select>
<input id="moduleTitle" placeholder="Module Title">
<label><input type="checkbox" id="modulePremium"> Premium</label>
<button onclick="addModule()">Add Module</button>
<br>
<select id="selectModule"></select>
<input id="lessonTitle" placeholder="Lesson Title">
<textarea id="lessonContent" placeholder="Lesson Content"></textarea>
<input id="lessonVideo" placeholder="Video URL (optional)">
<label><input type="checkbox" id="lessonPremium"> Premium</label>
<button onclick="addLesson()">Add Lesson</button>
</div>
</div><!-- Course List --><div id="courseList"></div><button onclick="showAbout()">About AscendX</button> <button onclick="toggleMute()" id="muteBtn">Mute Sounds</button>

<!-- Code Playground --><div id="playground" class="card">
<h3>Code Playground</h3>
<textarea id="codeInput" placeholder="Write your HTML/JS/CSS here"></textarea>
<button onclick="runCode()">Run Code</button>
<iframe id="codeOutput"></iframe>
</div></div>
<div id="aboutCard" class="card">
<h3>About AscendX</h3>
<p>Empowering global learners through cutting-edge education.</p>
<p>Developer: Ray Sage who's also known as Paul Zulu</p>
<button onclick="closeAbout()">Close</button>
</div><script>
let courses=[];
let token=localStorage.getItem("githubToken")||"";
let admin=false;
let muted=false;
const repoOwner="Ray-Sage";
const repoName="ascendx";

function adminLogin(){
 if(adminPass.value==="Ray@AscendX"){
  admin=true;
  adminPanel.classList.remove("hidden");
  adminStatus.innerText="‚úÖ Access Granted";
  updateSelects();
 } else alert("Wrong code");
}

function saveToken(){token=tokenInput.value.trim();localStorage.setItem("githubToken",token);alert("Token saved locally");}
function toggleMute(){muted=!muted;muteBtn.innerText=muted?'Unmute Sounds':'Mute Sounds';}

// Fetch courses from GitHub
async function loadCourses(){
 try{
  const res=await fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/courses.json`);
  const data=await res.json();
  if(data.content){
   let decoded=atob(data.content);
   courses=JSON.parse(decoded);
   renderCourses();updateSelects();
  }
 }catch(e){
  console.log('Failed GitHub fetch, loading localStorage');
  courses=JSON.parse(localStorage.getItem("courses"))||[];
  renderCourses();updateSelects();
 }
}

// Admin: Course/Module/Lesson Management
function addCourse(){let title=courseTitle.value;if(!title)return alert("Enter title");
 courses.push({title,premium:coursePremium.checked,modules:[]});
 courseTitle.value="";coursePremium.checked=false;
 saveLocalAndRender();updateSelects();}
function addModule(){let cIndex=selectCourse.selectedIndex;if(cIndex<0)return alert("Select course first");
 let title=moduleTitle.value;if(!title)return alert("Enter module title");
 courses[cIndex].modules.push({title,premium:modulePremium.checked,lessons:[]});
 moduleTitle.value="";modulePremium.checked=false;saveLocalAndRender();updateSelects();}
function addLesson(){let cIndex=selectCourse.selectedIndex,mIndex=selectModule.selectedIndex;
 if(cIndex<0||mIndex<0)return alert("Select course and module");
 let title=lessonTitle.value,content=lessonContent.value,video=lessonVideo.value;
 courses[cIndex].modules[mIndex].lessons.push({title,content,video,premium:lessonPremium.checked});
 lessonTitle.value="";lessonContent.value="";lessonVideo.value="";lessonPremium.checked=false;saveLocalAndRender();}

function saveLocalAndRender(){localStorage.setItem("courses",JSON.stringify(courses));renderCourses();}

// Collapsible Course/Module/Lesson Rendering
function renderCourses(){
 courseList.innerHTML="";
 courses.forEach((course,i)=>{
  let courseDiv=document.createElement("div");courseDiv.className="card";
  let courseTitleDiv=document.createElement("div");courseTitleDiv.className="courseTitle";
  courseTitleDiv.innerHTML=`${course.title} ${course.premium?'<span class="premiumTag">‚≠ê Premium</span>':''}`;
  courseDiv.appendChild(courseTitleDiv);
  let moduleContainer=document.createElement("div");moduleContainer.className="moduleContent";
  course.modules.forEach((mod,j)=>{
   let modDiv=document.createElement("div");
   let modTitleDiv=document.createElement("div");modTitleDiv.className="moduleTitle";
   modTitleDiv.innerHTML=`${mod.title} ${mod.premium?'<span class="premiumTag">‚≠ê</span>':''}`;
   modDiv.appendChild(modTitleDiv);
   let lessonContainer=document.createElement("div");lessonContainer.className="lessonContentWrapper";
   mod.lessons.forEach((les,k)=>{
    let lesDiv=document.createElement("div");lesDiv.className="lessonTitle";
    lesDiv.innerHTML=`<b>${les.title}</b>${les.premium?'<span class="premiumTag"> ‚≠ê Premium</span>':''}`;
    let contentDiv=document.createElement("div");contentDiv.className="lessonContent";
    contentDiv.innerHTML=`<p>${les.content}</p>${les.video?`<iframe src="${les.video}" allowfullscreen></iframe>`:''}`;
    lesDiv.appendChild(contentDiv);
    lesDiv.onclick=()=>{contentDiv.style.display=contentDiv.style.display==='none'?'block':'none';};
    lessonContainer.appendChild(lesDiv);
   });
   modDiv.appendChild(lessonContainer);
   modTitleDiv.onclick=()=>{lessonContainer.style.display=lessonContainer.style.display==='none'?'block':'none';};
   moduleContainer.appendChild(modDiv);
  });
  courseTitleDiv.onclick=()=>{moduleContainer.style.display=moduleContainer.style.display==='none'?'block':'none';};
  courseDiv.appendChild(moduleContainer);
  courseList.appendChild(courseDiv);
 });
}

function updateSelects(){
 selectCourse.innerHTML='';
 selectModule.innerHTML='';
 courses.forEach(c=>{let o=document.createElement('option');o.text=c.title;selectCourse.add(o);});
 let cIndex=selectCourse.selectedIndex;
 selectModule.innerHTML='';
 if(cIndex>=0){courses[cIndex].modules.forEach(m=>{let o=document.createElement('option');o.text=m.title;selectModule.add(o);});}
}
selectCourse.onchange=updateSelects;

// GitHub Save Function
async function autoSaveGitHub(){
 if(!token) return alert('Enter your GitHub token first');
 try{
  const res=await fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/courses.json`);
  const data=await res.json();
  const sha=data.sha;
  await fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/courses.json`,{
   method:'PUT',
   headers:{Authorization:`token ${token}`,'Content-Type':'application/json'},
   body:JSON.stringify({message:'Update courses',content:btoa(unescape(encodeURIComponent(JSON.stringify(courses,null,2)))),sha})
  });
  alert('Courses saved to GitHub');
 }catch(e){alert('GitHub save failed');console.log(e);}
}

async function syncFromGitHub(){await loadCourses();alert('Courses synced from GitHub');}

// Playground
function runCode(){let code=codeInput.value;codeOutput.srcdoc=code;}

// About
function showAbout(){aboutCard.style.display='block';aboutCard.style.opacity=0;setTimeout(()=>{aboutCard.style.opacity=1;},10);}
function closeAbout(){aboutCard.style.opacity=0;setTimeout(()=>{aboutCard.style.display='none';},300);}

loadCourses();
</script></body>
</html>
